天气、时间全局统一。  
借鉴MFCTI1.16任务中的投票系统、界面布局、light风格、music开关、tips等。
#界面调整
包含Menu菜单的统一背景调整，以及Options的增广。
##背景
在Menu基类中增加两个背景框，为它们设置两个特殊的IDC值，因为是MFCTI1.16因此选择1160和1161。
+ 作为背景的control也可以通过 ctrlShow控制显示与否。但OFP里对颜色的控制很糟糕，lbSetColor至少没调试出用法。
+ MFCTI的Light和Dark分别是0.1和0.4的灰度，和CR的其他对话框风格略有不同。
##Options增广
将Options界面拓展到 w=1，左边的区域 dark风格保持一致。在这个区域里，加入MFCTI的一些按钮，例如Tips、Music、配色、Vote。布局也可以尽量一致。
##Vote界面设计
直接照搬MF的界面，不过没有必要保留它的具体设置，参照TZK任务设置的dialog使用combobox来设计。
#投票系统
初步设置33%的投票比率。每次收到投票时，执行投票结果的修改和计算（触发式），而具体的投票项目则在循环周期开头读取投票结果。
##广播机制
如果对每个玩家在每个选项设计一个变量名，就太冗余了。采用少量变量控制的广播系统，则需要解决**广播失败时重置**的问题。
+ 玩家广播1-2个变量，由server接收。server仅将收到的信息使用 sendDelay 间隔发讯法广播给全玩家（使用logic来globalChat显示信息）。玩家端设置一个5s左右的延时（从发讯脚本启动，使用@监测返回值，这里需要使用一个变量，它是全局的，但并非公共的），如果延时内没有收到来自server的信息，则提示玩家投票失败，并重置玩家的选项（需要记录上一次的逻辑值）。
##权重设置
双方CMD在游戏开始的前5分钟拥有接近50%的权重（使用一个较大的整数），因而可以直接决定选项的结果。5分钟后，CMD的权重变为2，普通玩家为1。
设置一个admin权限给我自己，开启后拥有接近100%的权重（使用一个更大的整数），决定投票结果。
+ 这个权重可通过一个逻辑值切换。每次读取投票结果时都根据逻辑值来分析admin玩家的权重，因而可以统一通过逻辑值关闭。
+ 理论上这个权限应当赋予MP游戏中的admin玩家，但脚本命令并不返回admin身份。
	+ **通过dialog中创建一个对话框，接收一个字符串作为密码，是可行的。但因为游戏录像的缘故，希望这个密码是不可视的。**
		+ **使用ctrlshow覆盖输入框是否可行呢？**
##选项列表
和TZK的选项一样，于TZK_4.0.0 Block里初始化。不过因为server也需要初始化，因此不能在initClient里。广播的是数值，所对应的选项将从全局变量里获取。  
定义一个Vote的数组，它的元素为 [选项名称、条目名称数组、数值]。实际投票的结果将从这个数组里调用。
+ 天气。
+ 时间（当发生变更后，基于上一次的投票结果，设计一个平滑变化的脚本。另外，追加一个noon时刻）。
+ 视距。默认1300，开放1500和1600的选项。
+ 收入倍率；
+ **收入逐渐提高；**
+ 剩余时间；
+ RES强度（需要在RES的TG脚本里，将时间间隔从局部常量改成全局变量）。
##界面布局
+ **各选项的选择人数**
	+ 可能需要做成矩阵的形式，并且需要从server的广播数值中读取信息。存在可能的多等分设置，可参考弹夹显示的方式，但暂时没有必要。
+ 当前的投票结果
	+ 直接在 Vote_Matrix 的数组元素中添加一个索引，存储投票结果即可。
+ 玩家的当前选择
##任务参数简化
+ 参数列表（保留）
	+ RES强度：由于RES强度影响初始数量，因此仍然应当保留在参数列表里。
	+ 出生点方案。
+ 参数列表（删除）
	+ 收入倍率：默认1，投票选择2。
	+ 持续时间：默认4h，投票选择6h、3h、不限时。需要检查一下server对剩余时间判定是否允许这种变动。
	+ 天气、起始时间、视距。
#音乐

#时间
利用daytime的返回值获取时间。利用skipTime校对（二者的单位都是时间）。和income类似，但没必要每分钟发讯，每5分钟发讯即可，而且没必要在60s的时刻扎堆，在20秒的时候开始即可。
#天气
以1分钟的频率执行vote结果检测，但单个周期的长度则仍然比较长。当周期符合条件时（时间够长，或投票信息变更），生成新的天气参数并广播。  
天气命令有3个，取值范围0-100（取整），达到10E6，因此需要2个广播变量。时间参数可以适当设计，也可以同样用0-100之间的随机数替代。
+ Server运算
  天气统一由Server产生。
	+ 初始化
	  以_this的规模为标志，以initServer指定的字符串为初始化的赋值。
	+ 循环
	  为释放脚本的变量，需要终止脚本。此外，脚本内存在一些延时（延时之一是因为下雨必须要阴天0.7以上；延时之二是雨停后模拟雾气），需要在这些阶段中根据投票结果产生变化。
		+ 整合原先预设的所有脚本。
		+ 修复“下雨阈值delay延时等待”时间计算中，分母可能为零的bug。
			+ 事实上，这个阈值的目的是当overcast达到0.7时开始下雨。由于OFP没有直接返回overcast等天气参数的命令，才需要这个数值。它需要排除一些额外的情况，比如阴天变化没有越过0.7。
	+ 传递状态
+ Player运算
  因为player本就要启动天气脚本，因此无需担心它造成额外的负担。而且也没有必要使用@等待，因为天气脚本已经是循环式的，只需在每个循环中读取参数就好了。
  server因为是触发式的，因此可能会有所不同。但只需要在server上也规定一个延时，必须等到和player相一致的检测时刻才继续脚本，从当前投票结果里读取天气参数。

#Tips
**慢慢加。暂时不考虑。**
#对话框配色
MF的做法是设置一个全局变量 GUIskin 并将它用于 createDialog 命令（通过format）。对于绝大多数界面，仅仅只是新增一个 controlsBackground 的组件。
#hintC
使用这个命令强制显示提示信息？不妥。还是在笔记本里写，或者用titleText吧。

#附加调整
由于logic物体可用于globalChat，因此将开局的sideChat信息改成临时创建的本地logic物体globalChat。  
estimatedTimeLeft 设为最大值7200。可以考虑**根据控城数、基地存续情况（以MHQ存活与否为一个地标），修改数值。**  
Gregoriov只有北方是沙漠，因此改回普通涂装风格。  