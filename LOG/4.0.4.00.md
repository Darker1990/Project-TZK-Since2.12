#脚本路径
+ 尝试将已有脚本扔到AddOns里。
	+ \TZK_Scripts_4_0_4\
	+ mission.sqm, Init.sqs, description.ext统一从插件调用接口。当有必要的时候，再修改接口，连接到任务脚本。
		+ 下一次发布模组时，将更新的脚本放到新的Scripts里。
	+ 子目录下脚本，统一更改脚本路径。调用Extra脚本时，仍然从任务里读取，因为extra不是通用脚本。
	+ 封装在TZK_Objects.pbo里的脚本，以接口的形式保留在任务里。
		+ Common和Player目录下除 InitVehicle 系列的一些脚本。
	+ 需要被 preprocessFile 处理的脚本，必须保留在任务里。
	+ *Unit、Struct、Equip、AIOptions，用一个空的SQF预留接口。函数编译不需要，它可以直接在Init里声明。也没有为InitClient和InitServer预留接口，可以新建SQS脚本。*
	+ *MsgUnitBuilt 里，指定 InitVehicle, InitInfantry 到Common目录下。*
+ SQF改造
	+ preprocessFile 只能用于任务目录下脚本。preprocessFile将会导入文件为字符串，忽略其中的注释信息，而loadFile则直接将文件转为字符串。
	+ 因此，考虑将注释移动到调用 preprocessFile 命令处，文件内不保留注释，preprocessFile更改为loadFile。
	+ 只有SE脚本保留 preprocessFile 调用的脚本命令。
#模组调整
使用CONFIG结合CfgPatches，用新的TZK_Config系列替代原本的TZK_Objects。  
***所有的CONFIG文件将被整合成一个完整的CONFIG。CONFIG中每一个类成员，都是所有CONFIG文件整合后的结果。CONFIG文件整合后，具有继承关系的类成员将会按照整合文件的内容来处理继承的属性。***
+ 例如，在TZK_Objects里设置B继承A，并且让B为model赋予一个字符串，则TZK_CONFIG_4_0_4里为A定义另一个model参数，CONFIG整合后，A的model参数是4_0_4中所定义的，但B和A有继承关系，且B内有model的重新定义，因此B的model值不会受到TZK_CONFIG_4_0_4改写A的行为的影响。
+ 对于类参数，情况要复杂一些。外部的CONFIG文件对类参数的普通参数和其他普通参数一样，只能执行改写（如EH），但类参数的类成员是可通过外部CONFIG添加的（如UA）。
+ 继承关系中，直接声明类参数（如UA）并不会从父类继承类参数，而是定义子类独有的类参数。如果使用空白花括号，效果将会是清空该类参数。
+ CONFIG之间的整合只能修改和添加类参数。外部CONFIG声明空白花括号，等同于不执行任何操作（添加空白信息）。**关于access，暂时缺乏深入了解。似乎只有2层的类明确要求access参数。**
+ 另外，access很奇怪，它对bin\config有效，bis类被赋予access=3的都无法被插件改写。但这个设置似乎对插件config没有效果。

***经测试，文件修改日期及插件包的顺序，对覆盖关系似乎影响不大。config404 可以为 object400_3 的类中通过继承而非覆写的参数提供新的值，但无法更改 object400_3 显式覆写的参数值。问题在于，插件包顺序和文件修改日期都无法影响结果，总是 object400_3 优先于 config404。或许是因为前者的 requiredAddons 比较丰富，或者引自某些BIS插件的缘故？***
	+ 利用 requiredAddons 提供读取顺序后，config404 就可以改写 object400_3 的参数了。
		+ **一个问题是，如果二者互为 requiredAddons，结果会怎样？
+ 减少火箭炮的子炸弹数量（41→2）。
	+ 音爆提供半径85的小杀伤，子炸弹提供一些覆盖。很可能是这些子弹的hit计算——而非createShell命令本身——在MP中产生了大量的bug。
		+ 利用坦克的各部位损伤显示，测试并比较威力。音爆弹提供大范围的对步兵覆盖，额外提供一个单独的子炸弹，IH为150，半径60（90米处减损80%威力），createShell只执行这2次。
			+ 威力较原本的略小。
+ 删除火箭炮EH中Killed参数（让各组件dammage为1，这个不必要，直接应用setDammage 1就可以让单位全黑）。
+ 调整增广地雷使用ammo的defaultMagazine。
+ 修复HMMWV Gunner的动作文件路径。
+ 编辑器中隐藏使用特殊动作方案的单位。*注意protected并非config的保留关键字，它是一个宏定义。*
+ CfgModels信息扔到txt文件里（因为模型已binarized）
+ AI的副武器使用，selectWeapon不好调出，因此放弃标枪的整合。AI装备标枪的时候，倒确实会对天发射。
	+ *不过，Fired_EH好像是全单位覆盖的，那么捕获标枪ammo后，强制设置它的朝向和速度，是否可行？**
##多贴图风格
+ BMP使用CSLA_sup的风格。原有的那个绿色太艳了，有的贴图也不好看。改用墨绿色的那个风格。棕绿色的风格更好，但是贴图不一致。
+ 利用PS的颜色替换，统一为其他单位提供缺失的贴图风格。
  **要注意EH改写时，部分载具的Init参数还包含其他的初始化，要补齐。**
  **从TOS的UA改写可看出，原config的子class并不会因为重新声明class而彻底清除。但从UH60的改写可看出，新CONFIG在基类添加的UA，不会自动作用到原CONFIG中声明了UserActions的子类，必须在新config的子类里添加完整的新增UA内容。**
  **诸如TOS，各炮管使用大张贴图一并提供显示，如果直接将贴图新建selection，则会失去对前者的控制权限。宜随意重新指定这些selection的贴图，将剩余部分重定义给大贴图，再改回来。**
	+ M60的沙漠风格（模型略有问题，一并调整）。
		+ INQ和SIG有适合沙漠和绿色风格的单位，但贴图不合用。
	+ T80的绿色风格调整，与T72、T55一起使用。参考BMP的墨绿。
	+ M109、M270制作雪地风格。TOS制作变色。
		+ TOS使用豹2沙漠的方式批处理。M270先使用阴影，然后转为黑白。图片有些偏亮了。
			+ 涉及应用setObjectTexture切换显示的，需要根据风格调整所使用的图片。插件内Init脚本、Deploy脚本和任务里调用的deploy、reload脚本都要调整。
		+ 重置炮弹朝向的语句修改。setVectorDir是无效的，必须要结合up命令，或直接用dirAndUp命令。
			+ 另外，需要立刻重置坐标和速度，否则运动量上会出现一些肉眼可见的偏差。这一点和建筑阴影是一致的。
			+ 从联机效果来看，这个设置对remote端基本没有意义。因此整体注释这个设计。
	+ 为ZTZ99和PLZ05提供变色的贴图。
		+ 黄绿色迷彩，沙漠采用豹2的沙漠方案，雪地采用M270的纯黄转银灰方案（TOS的黄绿转银灰方案偏蓝偏暗，不合用）。
	+ 豹2的沙漠风格。相比winter版，沙漠风格需要增加一些零件的变色。
		+ 轮胎侧面、履带内侧、传动轮、光学仪器、排气管。
		+ 颜色不宜亮黄，而是偏淡，偏暗。
	+ A10和Su25参考已有的好贴图调整风格。
	+ UH60提供变色。
		+ 豹2沙漠+纯黄转银灰。
		+ 并提供舱门开关功能。将舱门往z方向移动-1.823，舱内视角追加x方向的0.97压缩，提供动画、UA、EH。
	+ AH64/Tiger/V80等提供缺失的风格。
		+ 使用east坦克墨绿、纯黄转银灰的方案。***V80的贴图虽然尺寸小，但因为用在整个模型上，等效于拉伸，因此也需要预加载。***
		+ V80直接用O.pbo贴图变色，放弃hwk，相比之下，没发现hwk的优越之处。
		+ Tiger的螺旋桨也变色。green和winter使用脑斧贴图。针对弹舱，将它们和waffen贴图解耦，然后在texture脚本里一并染色处理（和TOS不同，它们在游戏中不是动态的）。
	+ 增加车辆的风格。
		+ Jeep的顶端图片要追加，透明玻璃要跳过。
		+ 使用豹2的沙漠风格、坦克墨绿风格。



#Bug修复与任务调整
+ SupportVeh的循环脚本里，对损毁的object，需要加一个距离判定。原有bug设计会导致维修全图的object。
+ Radio购买武器时，增加附近兵营的支持。
+ wp设置dialog里，orderAI按钮的功能恢复正常。
+ MapClick 的逻辑判定调整。
	+ 将 && (count _units) == 0 条件的位置移动，使得排列组合能够适应更多的情形。
		+ 只有选择队员、不按alt、按shift时，启动队内命令界面。
		+ 选择队员，按alt、不按shift时的快速wp设置，仍然被跳过。
		+ 选择队员、按alt、按下shift时，改为呼出wp设置界面而非调出队内命令界面。
		+ 指挥官命令界面，检查一下。根据逻辑判断，只有 !_alt && _shift 时可以呼出。如果选择了队员，只按下shift，进入队伍命令；按下alt+shift，则进入wp设置界面。
+ 优化少量SQF函数。
	+ **可能存在符号、语法bug，要慎之又慎。**
	+ 已实战单机打AI试过一盘。接下来做专题测试就足够了。
+ 迫击炮建筑增加一个No_Art版本，供玩家使用。在shoot和switch命令里禁止这个类型迫击炮被调用。Art的迫击炮，造价提升到8000元。MF模组里，基地防御迫击炮改为no_art的版本。
	+ 防御建筑的维修费用提升，使用sup维修时收取造价的一半，使用工人维修时不变。对防御建筑，单次维修量直接乘以4，不再使用81%的奇怪数字。
		+ 或许是精度的缘故，总之，莫名其妙会差一点点。所以建筑损毁时，设置损伤为0.9999，以绕开这个问题。
+ 为烟尘添加Up向量效果。
	+ 对中心对称的烟雾，只需令旋转轴从竖直线变成up向量即可。
		+ 设待修正向量为A=(a,b,0)，up=(x,y,z)，|up|=1，则修正后的表达式为( (a-b)xy + az^2, bz^2-(a-b)x^2, -(ax+by)z )。使用的公式为up × (A×up)，因此up归一化后，向量的尺度不变。
		+ 由于drop应用的是基于中心的坐标，它有可能小于地面的高度。
	+ 应用于坦克、飞机的爆炸烟尘，和直升机的烟尘。船只因为在海面上，不存在up。另外，飞机和船在关闭死亡燃烧效果时，恢复烟圈的显示。
+ 对2.01版本，增加医疗包使用时对卧姿的判定，调用卧姿的医疗动作。
	+ 因为UA没有给所有单位添加，事实上还是仅仅玩家限定而已。
	+ 担心UA覆盖步兵会给游戏帧率带来影响（UA如何生效的呢？如果是触发式的，只对玩家，及对某个队员呼出6-时有效，那么大概还好），因此直接和heal命令结合起来用。
	+ Rearm时为所有单位增加 weaponCustom，但单位制造时，无Equip脚本的单位不会自动配备它。
		+ InitInfantry里因此增加Custom的配备，具体的Equip脚本里移除weaponPut，使得不添加到RearmData里。Equip的General脚本包含weaponCustom的附加。
+ 全随机出生点模式，将阈值减少到20。主要的问题是小岛屿摇出生点不易，而产生坐标后又大概率统统落在一侧。在legus测试没问题不代表tresed测试没问题。
+ 玩家support命令优化。
	+ Repair/Rearm的提示信息调整。使用0.1%或0.1秒的精度，并且数值显示上增加单倍精度，使得不会出现显示100%后还需要额外的1秒维修时间。
	+ 当载具维修完毕后，就让单位返回，不再等待乘员医疗。
	+ 在执行维修、等待返回阶段，增加orderCheck，响应命令变更。
+ Board命令增加建筑的罗列，并改写GetNearbyStructure函数，使得对side的参数更好地支持。
+ 对话框优化。OFP一次只能处理一个对话框，各dialog脚本都以对话框关闭作为一个终止条件，考虑用一个全局的计数变量来记录dialog的值，用一个互斥锁保证局部变量记录的全局值是唯一的。
	+ 删除一些dialog里防止冲突的延时。
	+ 增加board对话框中，每秒对已检索载具的状态分析。
+ Join功能。
	+ 增加UC中对Join中转组的控制权限。
	+ 优化UC启动的Join命令调出的对话框在Join许可时对延时的响应方式。
	+ 尝试用延迟脚本调整加入AI队伍的单位的载具席位权限。
		+ 由Server发起的unAssign命令不知为何效果不佳。让player队伍在join执行前unAssign，直接建服是有效的。
		+ 联机中，player执行的unAssign效果同样不佳。在server的delay脚本上，追加5秒延时后的再次unAssign。
+ 针对开局阶段冒出来的复数个同一载具、error信息，在sendUnitBuilt脚本里对重复发信增加一个延时，开局阶段延时5秒。
+ InitVehicle 里，为部署载具添加引擎抱死EH后，追加 engineOn false 指令，以使得EH生效。
	
#步兵地雷
+ CfgMarker里增加地雷图标。
+ 在equipment里增加地雷，在1.99逻辑里隐藏它。在2.01里也隐藏它，先不使用。